<form [formGroup]="surveyForm">
  <div formGroupName="basicQuestions">
    <div>
      <mat-form-field>
        <input
          type="text"
          name="nickname"
          formControlName="name"
          matInput
          placeholder="暱稱"
          required
        />
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <textarea
          name="intro_self"
          matInput
          placeholder="自我介紹"
          formControlName="intro"
          required
          [errorStateMatcher]="earlyErrorStateMacher"
          cdkTextareaAutosize
        ></textarea>
        <mat-hint>簡單介紹一下你的興趣吧！</mat-hint>
        <mat-error
          *ngIf="
            surveyForm.get('basicQuestions').get('intro').hasError('required')
          "
          >請記得輸入自我介紹喔！</mat-error
        >
        <mat-error
          *ngIf="
            surveyForm.get('basicQuestions').get('intro').hasError('minlength')
          "
          >至少輸入10個字吧！</mat-error
        >
      </mat-form-field>
    </div>
    <div>
      <mat-form-field>
        <input type="date" name="birthday" matInput placeholder="生日" />
      </mat-form-field>
      <mat-form-field>
        <input
          type="text"
          name="country"
          matInput
          placeholder="國家"
          formControlName="country"
          [matAutocomplete]="countries"
        />
      </mat-form-field>
      <mat-autocomplete
        #countries="matAutocomplete"
        [displayWith]="displayCountry"
      >
        <mat-option
          *ngFor="let country of countries$ | async"
          [value]="country"
        >
          <span [innerHTML]="highlightFiltered(country.name)"></span>
        </mat-option>
      </mat-autocomplete>
    </div>
    <div>
      <mat-form-field>
        <input
          type="text"
          name="majorTech"
          matInput
          placeholder="代表技術"
          formControlName="majorTech"
          [matAutocomplete]="majorTechs"
        />
      </mat-form-field>
      <mat-autocomplete #majorTechs="matAutocomplete">
        <mat-optgroup
          *ngFor="let techList of majorTechList"
          [label]="techList.name"
        >
          <mat-option *ngFor="let tech of techList.items" [value]="tech">
            {{ tech }}
          </mat-option>
        </mat-optgroup>
      </mat-autocomplete>
    </div>
    <div>
      <mat-form-field>
        <input
          type="text"
          name="birthday"
          matInput
          placeholder="生日"
          [matDatepicker]="birthdayPicker"
          formControlName="birthday"
          [min]="minDate"
          [max]="maxDate"
        />
        <mat-datepicker-toggle
          [for]="birthdayPicker"
          matSuffix
        ></mat-datepicker-toggle>
        <mat-datepicker #birthdayPicker [startAt]="startDate"></mat-datepicker>
      </mat-form-field>
    </div>
  </div>

  <div></div>
</form>
